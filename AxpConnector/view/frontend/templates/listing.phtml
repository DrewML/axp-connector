<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/**
 * @var \Adobe\AxpConnector\Block\Listing $block
 * @var \Adobe\AxpConnector\ViewModel\Js $viewModel
 */
$viewModel = $block->getViewModel();
$datalayerName = $block->escapeJs($viewModel->getDatalayerName());
$datalayerJson = $block->datalayerJson();
?>
<script type="text/javascript" id="axpconnector-datalayer-category-viewed">
    <?php if ($datalayerJson) : ?>
        window.<?= /* @noEscape */ $datalayerName ?>.push(<?= /* @noEscape */ $datalayerJson ?>);
    <?php endif; ?>
</script>
